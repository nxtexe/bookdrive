<!DOCTYPE html>
<html>
<head>
	<html lang="en"> 
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://fonts.googleapis.com/css?family=Calistoga|Libre+Baskerville|Old+Standard+TT&display=swap" rel="stylesheet">   
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="/static/js_py/brython.js"></script>
	<script src="/static/js_py/brython_stdlib.js"></script>
	<script src="/static/js_py/jquery-3.4.1.min.js"></script>
	{% block head %}
	{% endblock %}
	<meta name="google-signin-client_id" content="978982213189-lhga42u99kaa7i7lhe3gnoj3tevv23lk.apps.googleusercontent.com">
	<script src="https://apis.google.com/js/platform.js" async defer></script>
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/body.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/accounts.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/authentication-pages.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/messageboard.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/main.css') }}">
	<link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='assets/favicon.ico') }}" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<title>BookDrive</title>
</head>
<body id="body" class="body-light" onload="brython({debug:1})" {% if url == "/login" or url == "/signup" %} style="background-image: url(/static/assets/login-bg.jpg); background-size: cover;" {% endif %}>
	<script type="text/python">
		from browser import window, local_storage, document
		storage = local_storage.storage
		
		if document['body'].style.backgroundImage:
			pass
		else:
			storage['history_count'] = "0"

		try:
			if storage['dark_mode'] == "on":
				document['body'].className = "body-dark"
				document['nav'].className = "navbar navbar-expand-lg navbar-dark bg-dark"
				document['customSwitch1'].checked = "true"
				document['dropdownMenuButton'].className = "btn btn-secondary"
				a_list = document.getElementsByClassName("light-a")
				for a in a_list:
					a.className = a.className.replace('light', 'dark')
				label_list = document.getElementsByClassName("light-label")
				for label in label_list:
					label.className = label.className.replace('light', 'dark')
				document['dropdown-div'].className = document['dropdown-div'].className.replace('light', 'dark')
				for element in document.getElementsByClassName("nav-img"):
					element.src = element.src.replace("light", "dark")
				for element in document.getElementsByClassName("search-icon"):
					element.src = element.src.replace("light", "dark")
				for element in document.getElementsByClassName("light-searchButton"):
					element.className = element.className.replace("light", "dark")
				for element in document.getElementsByClassName("side-bar"):
					element.className = element.className.replace("light", "dark")
				for element in document.getElementsByClassName("light-btn"):
					element.className = element.className.replace("light", "dark")
				for element in document.getElementsByClassName("light-img"):
					element.className = element.className.replace("light", "dark")
					element.src = element.src.replace("light", "dark")
				for element in document.getElementsByClassName("light-chevron"):
					element.className = element.className.replace("light", "dark")
		except KeyError:
			storage['dark_mode'] = "off"


		jq = window.jQuery

		def body_change(e):
			if storage['dark_mode'] == "off":
				storage['dark_mode'] = "on"
				document['body'].className = "body-dark"
				document['nav'].className = "navbar navbar-expand-lg navbar-dark bg-dark"
				document['dropdownMenuButton'].className = "btn btn-secondary"
				a_list = document.getElementsByClassName("light-a")
				for a in a_list:
					a.className = a.className.replace('light', 'dark')
				label_list = document.getElementsByClassName("light-label")
				for label in label_list:
					label.className = label.className.replace('light', 'dark')
				document['dropdown-div'].className = document['dropdown-div'].className.replace('light', 'dark')
				for element in document.getElementsByClassName("nav-img"):
					element.src = element.src.replace("light", "dark")
				for element in document.getElementsByClassName("search-icon"):
					element.src = element.src.replace("light", "dark")
				for element in document.getElementsByClassName("light-searchButton"):
					element.className = element.className.replace("light", "dark")
				for element in document.getElementsByClassName("side-bar"):
					element.className = element.className.replace("light", "dark")
				for element in document.getElementsByClassName("light-btn"):
					element.className = element.className.replace("light", "dark")
				for element in document.getElementsByClassName("light-img"):
					element.className = element.className.replace("light", "dark")
					element.src = element.src.replace("light", "dark")
				for element in document.getElementsByClassName("light-chevron"):
					element.className = element.className.replace("light", "dark")
			else:
				storage['dark_mode'] = "off"
				document['body'].className = "body-light"
				document['nav'].className = "navbar navbar-expand-lg navbar-dark bg-blue"
				document['dropdownMenuButton'].className = "btn bg-blue"
				a_list = document.getElementsByClassName("dark-a")
				for a in a_list:
					a.className = a.className.replace('dark', 'light')
				label_list = document.getElementsByClassName("dark-label")
				for label in label_list:
					label.className = label.className.replace('dark', 'light')
				document['dropdown-div'].className = document['dropdown-div'].className.replace('dark', 'light')
				for element in document.getElementsByClassName("nav-img"):
					element.src = element.src.replace("dark", "light")
				for element in document.getElementsByClassName("search-icon"):
					element.src = element.src.replace("dark", "light")
				for element in document.getElementsByClassName("dark-searchButton"):
					element.className = element.className.replace("dark", "light")
				for element in document.getElementsByClassName("side-bar"):
					element.className = element.className.replace("dark", "light")
				for element in document.getElementsByClassName("dark-btn"):
					element.className = element.className.replace("dark", "light")
				for element in document.getElementsByClassName("dark-img"):
					element.className = element.className.replace("dark", "light")
					element.src = element.src.replace("dark", "light")
				for element in document.getElementsByClassName("dark-chevron"):
					element.className = element.className.replace("dark", "light")
		def func(e):
			jq('#customSwitch1').change(body_change)

		def on_success(data, status, req):
			print(req.responseText)

		def search_async(e):
			jq.ajax({'type': 'GET',
						'success': on_success,
						'url': '/search/'+e.target.value})

		def func_2(e):
			jq('.searchTerm').keypress(search_async)

		jq(func_2)

		jq(func)
	</script>
</body>
	{% if  url != "/login" and url != "/signup" %}
		<nav id="nav" class="navbar navbar-expand-lg navbar-dark bg-blue">
			<a class="navbar-brand" href="/"><img class="nav-logo" src="/static/assets/logo.png"> BookDrive</a>
			<!-- <ul class="navbar-nav mr-auto">
	  			<li class="nav-item">
	  			</li>
	  		</ul> -->
	<!--   		<form id="nav-search-bar" class="form-inline my-2 my-lg-0">
	  			<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
	  			<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
	  		</form> -->
	  		<div id="nav-search-bar" class="inline-wrap">
		  		<div class="search">
		  			<input type="text" class="searchTerm" placeholder="Search">
		  			<button type="submit" class="light-searchButton">
		  				<img class="search-icon" src="/static/assets/light-search-small.png">
		  			</button>
		  		</div>
	  		</div>
	  		<div class="dropdown">
					<button class="btn bg-blue" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div id="dropdown-div" class="dropdown-menu dropdown-menu-right light-dropdown" aria-labelledby="dropdownMenuButton">
						<a class="dropdown-item light-a" href="#"><img class="nav-img" src="/static/assets/light-wand.png"> Wishlist</a>
						<a class="dropdown-item light-a" href="#"><img class="nav-img" src="/static/assets/light-exclamation.png"> Books Requested</a>
						<a class="dropdown-item light-a" href="#"><img class="nav-img" src="/static/assets/light-dollar.png"> Sell</a>
						<a class="dropdown-item light-a" href="#"><img class="nav-img" src="/static/assets/light-cart.png"> Your Cart</a>
						{% if current_user.is_authenticated %}
							<a class="dropdown-item light-a" href="/account"><img class="nav-img" src="/static/assets/light-account.png">  Your Account</a>
							{% if current_user.o_auth %}
							<a class="dropdown-item light-a" href="#" onclick="signOut();"><img class="nav-img" src="/static/assets/light-logout.png"> Logout</a>
							<script>
								function signOut() {
									var auth2 = gapi.auth2.getAuthInstance();
									auth2.signOut()
									window.location.href = "/logout";
								}
								window.onload = function() {
									gapi.load('auth2', function() {
										gapi.auth2.init();
									});
								}
							</script>
							{% else %}
							<a class="dropdown-item light-a" href="/logout"><img class="nav-img" src="/static/assets/light-logout.png"> Logout</a>
							{% endif %}
						 {% else %}
						 	<a class="dropdown-item light-a" href="/login"><img class="nav-img" src="/static/assets/light-right-arr.png"> Login</a>
						 {% endif %}
						<div class="custom-control custom-switch">
							<input type="checkbox" class="custom-control-input" id="customSwitch1">
							<label class="custom-control-label light-label" for="customSwitch1">Dark Mode</label>
						</div>
					</div>
			</div>
	    </nav>
<!--     <form id="search-bar" class="form-inline my-2 my-lg-0">
  		<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
  		<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
  	</form> -->
	  	<div id="search-bar" class="wrap">
	  		<div class="search">
	  			<input type="text" class="searchTerm" placeholder="Search">
	  			<button type="submit" class="light-searchButton">
	  				<img class="search-icon" src="/static/assets/light-search-small.png">
	  			</button>
	  		</div>
	  	</div>
  	{% endif %}
	{% block content %}

	{% endblock %}
	<footer class="footer-distributed">
		<div class="footer-left">
			<a href="/"><img src="static/assets/logo.png"></a>
			<a href="/" style="text-decoration: none;"><h3 style="font-family: 'Calistoga', cursive;">BookDrive</h3></a>
			<p class="footer-links">
				<a href="/">Home</a>
				|
				<a href="#">Jobs</a>
				|
				<a href="#">About</a>
				|
				<a href="#">Contact</a>
			</p>
			<p class="footer-company-name">© 2019 BookDrive Inc.</p>
		</div>
		<div class="footer-center">
			<h3>Products</h3>
			<p class="footer-links">
				<a href="#">Premium</a>
			</p>
			<h3>Resources</h3>
			<p class="footer-links">
				<a href="#">Terms of Service</a>
				|
				<a href="#">FAQ</a>
			</p>
			<div>
				<p><a href="tel:+1(876)389-6840">Call Us: +1(876)389-6840</a></p>
			</div>
			<div>
				<p><a href="mailto:nahtanjohn1l@gmail.com">Email Us: nahtanjohn1l@gmail.com</a></p>
			</div>
		</div>
		<div class="footer-right">
			<p class="footer-company-about">
				<span>About the company</span>
					We allow people to easily buy and sell books. Learn more from our social media.
			</p>
			<div class="footer-icons">
				<a href="#"><i class="fa fa-facebook"></i></a>
				<a href="#"><i class="fa fa-twitter"></i></a>
				<a href="#"><i class="fa fa-instagram"></i></a>
				<a href="#"><i class="fa fa-linkedin"></i></a>
			</div>
		</div>
		<center>
			<a style="font-size: 25px; color: white; text-decoration: none; display: grid;" href="#nav">
				<i style="color: white" class="fa fa-chevron-up"></i>
				<span style="font-size: 15px;">Back To Top</span>
			</a>
		</center>
	</footer>
</html>